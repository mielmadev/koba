// Para compatibilidad futura con Sass: usar map.get en vez de map-get
@use "sass:map";
@use "@estilos/bp" as *;
@use "@estilos/var.scss" as *;
@use "@estilos/mix/mix.scss" as *;

// @include margen-laterales-bp($margen-laterales);
@mixin margen-laterales-bp($mapa) {
  @each $bp, $valor in $mapa {
    @if $bp ==xs {
      margin: #{$valor};
    }

    @else {
      @include bp($bp) {
        margin: #{$valor};
      }
    }
  }
}

// @include altura-encabezado-bp($altura-encabezado);
@mixin altura-encabezado-bp($mapa, $propiedad: height) {
  @each $bp, $valor in $mapa {
    @if $bp ==xs {
      #{$propiedad}: #{$valor};
    }

    @else {
      @include bp($bp) {
        #{$propiedad}: #{$valor};
      }
    }
  }
}

// @include altura-contenido-bp($altura-encabezado);
// Permite pasar dos mapas: encabezado y pie. Si solo se pasa uno, el segundo debe ser null.
// Permite pasar dos mapas: encabezado y pie. Si solo se pasa uno, el segundo debe ser null.
@mixin altura-contenido-bp($mapa-encabezado, $mapa-pie: null, $propiedad: height) {
  @if $mapa-pie ==null {
    @each $bp, $valor in $mapa-encabezado {
      @if $bp ==xs {
        #{$propiedad}: calc(100vh - #{$valor});
      }

      @else {
        @include bp($bp) {
          #{$propiedad}: calc(100vh - #{$valor});
        }
      }
    }
  }

  @else {
    // Unir breakpoints de ambos mapas
    $all-bps: (
    );

  @each $bp, $v in $mapa-encabezado {
    $all-bps: map.merge($all-bps, ($bp: true));
  }

  @each $bp, $v in $mapa-pie {
    $all-bps: map.merge($all-bps, ($bp: true));
  }

  @each $bp, $v in $all-bps {
    $enc: 0;
    $pie: 0;

    @if map.has-key($mapa-encabezado, $bp) {
      $enc: map.get($mapa-encabezado, $bp);
    }

    @if map.has-key($mapa-pie, $bp) {
      $pie: map.get($mapa-pie, $bp);
    }

    @if $bp ==xs {
      #{$propiedad}: calc(100vh - #{$enc} - #{$pie});
    }

    @else {
      @include bp($bp) {
        #{$propiedad}: calc(100vh - #{$enc} - #{$pie});
      }
    }
  }
}
}

// @include altura-redes-sociales-bp($alturas-redes-sociales);
@mixin altura-redes-sociales-bp($mapa, $propiedad: height) {
  @each $bp, $valor in $mapa {
    @if $bp ==xs {
      #{$propiedad}: #{$valor};
    }

    @else {
      @include bp($bp) {
        #{$propiedad}: #{$valor};
      }
    }
  }
}

// Tamaños responsivos para los SVG de fecha
$fecha-svg-sizes: (
  xs: 1.3em,
  // más pequeño para xs
  md: 2.8em,
  lg: 3.5em
);

@mixin fecha-svg-separador-sizes {
  .fecha-svg-separador svg {
    width: map.get($fecha-svg-sizes, xs);
    max-width: 7vw;
    height: map.get($fecha-svg-sizes, xs);
    max-height: 7vw;
  }

  @each $bp, $size in $fecha-svg-sizes {
    @if $bp !=xs {
      @include bp($bp) {
        .fecha-svg-separador svg {
          width: $size;
          height: $size;
        }
      }
    }
  }
}

// Mixin para propiedad responsiva reutilizable
// Uso: @include prop-bp($mapa, font-size o propiedad);
@mixin prop-bp($mapa, $propiedad) {
  @each $bp, $valor in $mapa {
    @if $bp ==xs {
      #{$propiedad}: #{$valor};
    }

    @else {
      @include bp($bp) {
        #{$propiedad}: #{$valor};
      }
    }
  }
}